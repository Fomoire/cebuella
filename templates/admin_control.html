{% extends "index.html" %}

{% block content %}
<link rel="stylesheet" type="text/css" href="/static/css/calendar.css"/>
<script type="text/javascript" src="/static/js/i18n.js"></script>
<script type="text/javascript" src="/static/js/core.js"></script>
<script type="text/javascript" src="/static/js/calendar.js"></script>
<script type="text/javascript" src="/static/js/DateTimeShortcuts.js"></script>
<script>
function show(id){
    el=getEl(id);
    el1=getEl('butt1');
    el2=getEl('butt2');
    el3=getEl('butt3');
    if (el.style.display=="none"){
        el.style.display="block";
    if (id=='start'){
        el1.src="/static/css/but25.png";
        el2.src="/static/css/but22.png";
        el3.src="/static/css/but23.png";
    }
    if(id=='aktpot'){
        el1.src="/static/css/but26.png";
        el2.src="/static/css/but21.png";
        el3.src="/static/css/but23.png";
    }
    if(id=='startan'){
        el1.src="/static/css/but25.png";
        el2.src="/static/css/but21.png";
        el3.src="/static/css/but24.png";
    }
    }
}
    function hide(id){
    el=getEl(id);
    el1=getEl('butt1');
    el2=getEl('butt2');
    if (el.style.display=="block"){
        el.style.display="none";
}
}

function getEl(id){
        return document.getElementById(id);
}
</script>
<link href="/static/css/style.css" rel="stylesheet" type="text/css" />

<div align="center">
<a href="javascript:show('aktpot');hide('start');hide('startan');">
    <img src="/static/css/but26.png" border="0" id="butt1"></a>
<a href="javascript:show('start');hide('aktpot');hide('startan');">
    <img src="/static/css/but21.png" border="0" id="butt2"></a>
<a href="javascript:show('startan');hide('aktpot');hide('start');">
    <img src="/static/css/but23.png" border="0" id="butt3"></a>
</div>

<div id="aktpot" style="display:block;">
<table id = "table" align="center">
  <tr>
  <td></td>
  <form method="post" action="/queen/" >
    <td>Задача</td>
    <td align="center">Акт</td>
    <td width="30">Вкл</td>
    <td>Сделал</td>
  </tr>

  <tr>
    {% for thr in thr_str %}
    <td><input name="checkbox_{{thr.id}}" type="checkbox" id = "table" value="{{thr.id}}"/></td>
    <td>{{thr.task}}</td>
    <td id = {% if thr.stat %}
            "on">
            {% else %}
            "off">
            {% endif %}
            &nbsp;</td>
    <td id = {% if thr.active %}
            "on">
            {% else %}
            "off">
            {% endif %}
            &nbsp;</td>

    <td>{{thr.work_done}}</td>
    </tr>
    {% endfor %}

<tr id = "input">

        <td></td>
        <td>
            {{ tabform.whatdo }}
        </td>
        <td><input name="do" type="submit" id="input_t" value="Выполнить"/></td>
</tr>
</table>


<p align="center"><input name="open" type="submit" id = "input_t" value="Открыть"/></p>
</form>
</div>

<div id="start" style="display:none;">
    {% if addform.errors %}
        <p style="color: red;" align="center">
            Пожалуйста исправьте ошибки ниже.
        </p>
    {% endif %}
    <form id = "table" method="post" action="/queen/" align="center">{% csrf_token %}
        <table align="center" id="input_t">
            <p id = "table">Ссылка на стену группы</p>
            {{ addform.link.errors }}
            {{ addform.link }}
            <p id = "table">Количество потоков</p>
            {{ addform.threads.errors }}
            {{ addform.threads }}
            <p id = "table">Предел скачивания листов</p>
            {{ addform.limit.errors }}
            {{ addform.limit }}
        </table>
    <input type="submit" name = "add" id="input_t" value="Запуск"/>
    </form>
</div>

<div id="startan" style="display:none;">
    {% if addanform.errors %}
        <p style="color: red;">
            Пожалуйста исправьте ошибки ниже.
        </p>
    {% endif %}
    <form id = "table" method="post" action="/queen/" align="center">
        <table align="center" id="input_t">
            <p id = "table">Количество обрабатываемых данных</p>
            {{ addanform.number_of_an.errors }}
            {{ addanform.number_of_an }}
            <p id = "table">Количество потоков</p>
            {{ addanform.threads.errors }}
            {{ addanform.threads }}
            <p id = "table">C даты</p>
            {{ addanform.from_date.errors }}
            {{ addanform.from_date }}
            <p id = "table">По дату</p>
            {{ addanform.to_date.errors }}
            {{ addanform.to_date }}
        </table>
    <input type="submit" name = "addan" id="input_t" value="Запуск"/>
    </form>
</div>

{% endblock %}
